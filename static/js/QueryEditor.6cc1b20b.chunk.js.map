{"version":3,"sources":["Components/Editor/QueryEditor/QueryEditor.tsx","Components/Deferred/Loading.tsx","Components/Deferred/Loading.module.scss","Components/Deferred/DeferredAceEditor.tsx"],"names":["connect","state","queryText","getQueryText","mode","getQueryMode","onChange","updateQuery","setQueryMode","updateQueryMode","withErrorBoundary","memo","_ref","_useToggleState","useToggleState","_useToggleState2","Object","_home_travis_build_magoo_magoo_keyrier_json_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__","modeOpen","switchModeOpen","setJsMode","useCallback","setSqlMode","react__WEBPACK_IMPORTED_MODULE_1__","className","_Deferred_DeferredReactstrap__WEBPACK_IMPORTED_MODULE_7__","isOpen","toggle","color","caret","header","active","onClick","_Deferred_DeferredAceEditor__WEBPACK_IMPORTED_MODULE_4__","theme","name","fontSize","highlightActiveLine","value","minLines","maxLines","showPrintMargin","editorProps","$blockScrolling","Infinity","setOptions","showLineNumbers","tabSize","enableBasicAutocompletion","enableLiveAutocompletion","dragEnabled","width","debounceChangePeriod","__webpack_require__","d","__webpack_exports__","Loading","react__WEBPACK_IMPORTED_MODULE_0__","_Loading_module_scss__WEBPACK_IMPORTED_MODULE_1__","_Loading_module_scss__WEBPACK_IMPORTED_MODULE_1___default","n","componentName","props","error","Styles","loader","module","exports","spin","loadAceEditor","_home_travis_build_magoo_magoo_keyrier_json_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","_home_travis_build_magoo_magoo_keyrier_json_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","a","mark","_callee","aceEditor","wrap","_context","prev","next","e","then","t","bind","sent","Promise","all","abrupt","stop","apply","this","arguments","AceEditor","Loadable","loading"],"mappings":"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","file":"static/js/QueryEditor.6cc1b20b.chunk.js","sourcesContent":["import * as React from 'react'\nimport { connect } from 'react-redux'\n\nimport { UpdateQueryAction, updateQuery, updateQueryMode, UpdateQueryMode } from '../../../Actions/actions'\nimport { RootState, QueryMode } from '../../../State/State'\nimport { AceEditor } from '../../Deferred/DeferredAceEditor'\nimport { getQueryText, getQueryMode } from '../../../Store/selectors'\nimport { useToggleState } from '../../../Hooks/hooks'\nimport { ButtonDropdown, DropdownToggle, DropdownMenu, DropdownItem } from '../../Deferred/DeferredReactstrap'\nimport { memo, useCallback } from 'react'\nimport { withErrorBoundary } from '../../Common/ErrorBoundary'\n\n// import { unstable_runWithPriority } from 'scheduler'\n\ninterface Props {\n  onChange: (e: string) => UpdateQueryAction\n  setQueryMode: (e: QueryMode) => UpdateQueryMode\n  queryText: string\n  mode: QueryMode\n}\n\nconst QueryEditor: React.FC<Props> = ({ onChange, queryText, mode, setQueryMode }) => {\n  const [modeOpen, switchModeOpen] = useToggleState()\n\n  const setJsMode = useCallback(() => setQueryMode('Javascript'), [setQueryMode])\n  const setSqlMode = useCallback(() => setQueryMode('SQL'), [setQueryMode])\n\n  return (\n    <>\n      <div className=\"row\">\n        <div className=\"col-sm-10 offset-sm-2\">\n          <h3>2. Type your query:</h3>\n        </div>\n      </div>\n      <div className=\"row\">\n        <div className=\"col-sm-2\">\n          <ButtonDropdown isOpen={modeOpen} toggle={switchModeOpen}>\n            <DropdownToggle color=\"primary\" caret={true}>\n              Mode\n            </DropdownToggle>\n            <DropdownMenu>\n              <DropdownItem header={true}>Choose a predefined query</DropdownItem>\n              <DropdownItem active={mode === 'Javascript'} onClick={setJsMode}>\n                Javascript\n              </DropdownItem>\n              <DropdownItem active={mode === 'SQL'} onClick={setSqlMode}>\n                SQL like(experimental)\n              </DropdownItem>\n            </DropdownMenu>\n          </ButtonDropdown>\n        </div>\n        <div className=\"col-sm-10\">\n          <AceEditor\n            mode={mode === 'Javascript' ? 'javascript' : 'mysql'}\n            theme=\"monokai\"\n            name=\"queryAceEditor\"\n            onChange={onChange}\n            fontSize={13}\n            highlightActiveLine={true}\n            value={queryText}\n            minLines={10}\n            maxLines={25}\n            showPrintMargin={false}\n            editorProps={{\n              $blockScrolling: Infinity,\n            }}\n            setOptions={{\n              showLineNumbers: true,\n              tabSize: 2,\n              enableBasicAutocompletion: true,\n              enableLiveAutocompletion: true,\n              dragEnabled: true,\n            }}\n            width={'100%'}\n            enableBasicAutocompletion={true}\n            enableLiveAutocompletion={true}\n            debounceChangePeriod={1250}\n          />\n        </div>\n      </div>\n    </>\n  )\n}\n\nconst mapStateToProps = (state: RootState) => ({\n  queryText: getQueryText(state),\n  mode: getQueryMode(state),\n})\n\nexport default connect(\n  mapStateToProps,\n  { onChange: updateQuery, setQueryMode: updateQueryMode }\n)(withErrorBoundary(memo(QueryEditor)))\n","import * as React from 'react'\nimport Styles from './Loading.module.scss'\n\nexport const Loading = (componentName: string) => (props: LoadableExport.LoadingComponentProps) => {\n  if (props.error) {\n    return <div>{props.error}</div>\n  }\n\n  return <div className={Styles.loader}>{process.env.NODE_ENV === 'production' ? '' : componentName}</div>\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loading_loader__zsQ18\",\"spin\":\"Loading_spin__3n9Ub\"};","import { Loading } from './Loading'\nimport * as Loadable from 'react-loadable'\n\nconst loadAceEditor = async () => {\n  const aceEditor = await import(/* webpackChunkName: \"react-ace\" */ 'react-ace')\n  await Promise.all([\n    import(/* webpackChunkName: \"brace/theme/monokai\" */ 'brace/theme/monokai'),\n    import(/* webpackChunkName: \"brace/theme/github\" */ 'brace/theme/github'),\n    import(/* webpackChunkName: \"brace/mode/json\" */ 'brace/mode/json'),\n    import(/* webpackChunkName: \"brace/mode/javascript\" */ 'brace/mode/javascript'),\n    import(/* webpackChunkName: \"brace/mode/mysql\" */ 'brace/mode/mysql'),\n    import(/* webpackChunkName: \"brace/ext/language_tools\" */ 'brace/ext/language_tools'),\n    import(/* webpackChunkName: \"brace/ext/searchbox\" */ 'brace/ext/searchbox'),\n    import(/* webpackChunkName: \"brace/snippets/javascript\" */ 'brace/snippets/javascript'),\n    import(/* webpackChunkName: \"brace/snippets/json\" */ 'brace/snippets/json'),\n  ])\n  return aceEditor\n}\n\nexport const AceEditor = Loadable({\n  loading: Loading('AceEditor'),\n  loader: loadAceEditor,\n})\n"],"sourceRoot":""}